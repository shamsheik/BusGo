<div class="search-container">
  <div class="search-box">
    <form class="search-form">
      <div class="search-header">
        <h2>Book Bus Tickets</h2>
        <p>Find the best buses for your journey</p>
      </div>
      
      <div class="search-fields-container">
        <!-- Source Field -->
        <div class="search-field source-field">
          <mat-form-field appearance="fill" floatLabel="always">
            <mat-label>From</mat-label>
            <input type="text" matInput [formControl]="fromStationControl" 
                   [matAutocomplete]="autoFrom" placeholder="Enter city or station">
            <mat-icon matPrefix class="field-icon">location_on</mat-icon>
            <mat-autocomplete #autoFrom="matAutocomplete">
              <mat-option *ngFor="let station of filteredFromStations | async" [value]="station">
                <div class="station-option">
                  <mat-icon>location_on</mat-icon>
                  <span>{{ station }}</span>
                </div>
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>

        <!-- Swap Button -->
        <div class="swap-button-container">
          <button mat-icon-button class="swap-button" (click)="swapStations()" aria-label="Swap stations">
            <mat-icon class="swap-icon">swap_horiz</mat-icon>
          </button>
        </div>

        <!-- Destination Field -->
        <div class="search-field destination-field">
          <mat-form-field appearance="fill" floatLabel="always">
            <mat-label>To</mat-label>
            <input type="text" matInput [formControl]="toStationControl" 
                   [matAutocomplete]="toAuto" placeholder="Enter city or station">
            <mat-icon matPrefix class="field-icon">location_on</mat-icon>
            <mat-autocomplete #toAuto="matAutocomplete">
              <mat-option *ngFor="let station of filteredToStations | async" [value]="station">
                <div class="station-option">
                  <mat-icon>location_on</mat-icon>
                  <span>{{ station }}</span>
                </div>
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>

        <!-- Date Field -->
        <div class="search-field date-field">
          <mat-form-field appearance="fill" floatLabel="always">
            <mat-label>Departure Date</mat-label>
            <input matInput [matDatepicker]="picker" [(ngModel)]="selectedDate" 
                   placeholder="Choose date" name="date">
            <mat-datepicker-toggle matSuffix [for]="picker">
              <mat-icon class="datepicker-icon">calendar_today</mat-icon>
            </mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-icon matPrefix class="field-icon">event</mat-icon>
          </mat-form-field>
        </div>

        <!-- Search Button -->
        <div class="search-button-container">
          <button mat-raised-button class="search-button" (click)="searchBuses()">
            <mat-icon class="search-icon">search</mat-icon>
            SEARCH BUSES
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
<router-outlet></router-outlet>